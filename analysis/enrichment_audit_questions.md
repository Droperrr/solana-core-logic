# Вопросы для экспертов по аудиту enrichment Solana-транзакций

## 1. Структура EnrichContext
- **Какой должна быть структура EnrichContext для разных типов транзакций?**
  > Контекст: Единая и согласованная структура enrichment-контекста необходима для корректной downstream-аналитики и ML. Какие поля обязательны для всех типов, а какие — специфичны?
- **Какие поля enrichment-контекста критичны для ML и бизнес-аналитики?**
  > Контекст: От этого зависит, какие признаки будут доступны для моделей и отчетности. Нужно ли включать, например, confidence, fees, route, pool_id и др.?
- **Есть ли актуальная документация по enrichment-контексту?**
  > Контекст: Документация нужна для поддержки, тестирования и передачи знаний между командами.

## 2. Обработка ошибок enrichment
- **Какие ошибки enrichment должны логироваться и как?**
  > Контекст: Логирование всех ошибок может засорять логи, но пропуск критических ошибок опасен для качества данных. Какой баланс?
- **Как обрабатываются edge-cases (например, failed_transaction, account_management)?**
  > Контекст: Для некоторых типов enrichment невозможен или не нужен. Как это отражается в enrichment-контексте и QC?
- **Есть ли механизм повторного enrichment для транзакций с ошибками?**
  > Контекст: Важно для автоматического исправления данных без ручного вмешательства.

## 3. Покрытие enrichment по типам транзакций
- **Для каких типов транзакций enrichment обязателен, а для каких — опционален или не нужен?**
  > Контекст: Это влияет на QC-метрики и downstream-аналитику. Например, enrichment для transfer может быть не нужен, но для buy/sell — обязателен.
- **Какой минимальный enrichment должен быть для простых transfer?**
  > Контекст: Нужно ли сохранять хотя бы базовую информацию (например, сумму, адреса), или enrichment можно пропускать?
- **Как обрабатываются транзакции без token_transfers?**
  > Контекст: Это могут быть edge-cases или ошибки парсинга. Как их учитывать в QC и enrichment?

## 4. Связь между transactions и token_transfers
- **Какой процент orphan-записей (token_transfers без transactions) считается допустимым?**
  > Контекст: Высокий процент может указывать на баги в парсере или рассинхрон данных.
- **Есть ли известные баги или ограничения в парсере, влияющие на связи между таблицами?**
  > Контекст: Это поможет выявить и устранить системные ошибки в пайплайне.
- **Сверена ли текущая схема данных с документацией Solana и best practices?**
  > Контекст: Несоответствие может привести к потере или искажению данных.

## 5. QC-метки и автоматизация
- **Какие QC-метки (теги качества) нужны для контроля данных?**
  > Контекст: QC-метки позволяют быстро фильтровать и анализировать проблемные записи, автоматизировать контроль качества.
- **Какой процесс автоматизации QC наиболее прозрачен и воспроизводим?**
  > Контекст: Важно для CI/CD, аудита и поддержки качества на всех этапах загрузки и enrichment.
- **Как интегрировать QC-процедуры в CI/CD пайплайн?**
  > Контекст: Это позволит выявлять проблемы до попадания данных в production.

## 6. Документация и best practices
- **Покрыта ли enrichment-логика автотестами?**
  > Контекст: Автотесты — залог стабильности и быстрого обнаружения ошибок при изменениях.
- **Есть ли примеры типовых enrichment-контекстов для разных сценариев?**
  > Контекст: Примеры ускоряют обучение новых участников команды и помогают при отладке.
- **Согласованы ли best practices enrichment с ML- и бизнес-командой?**
  > Контекст: Это снижает риск недопонимания и ошибок на стыке команд.

---
_Используйте этот список для обсуждения с экспертами и фиксации решений по каждому пункту._ 